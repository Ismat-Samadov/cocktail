<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Random Cocktail App</title>
</head>

<body>
    <h1>Random Cocktail Generator</h1>
    <button id="fetchButton">Fetch Random Cocktail</button>
    <div id="cocktailInfo"></div>

    <script>
  document.getElementById('fetchButton').addEventListener('click', async () => {
        try {
            const response = await fetch('/random-cocktail');

            if (!response.ok) {
                throw new Error(`Failed to fetch random cocktail: ${response.status} ${response.statusText}`);
            }

            const data = await response.json();
            displayCocktail(data);
        } catch (error) {
            console.error('Error fetching random cocktail:', error.message);
            alert(`Error fetching random cocktail. Details: ${error.message}`);
        }
    });



        function displayCocktail(cocktail) {
            const cocktailInfoDiv = document.getElementById('cocktailInfo');
            cocktailInfoDiv.innerHTML = '';

            const image = document.createElement('img');
            image.src = cocktail.image;
            image.alt = cocktail.name;
            cocktailInfoDiv.appendChild(image);

            const name = document.createElement('h2');
            name.textContent = cocktail.name;
            cocktailInfoDiv.appendChild(name);

            const category = document.createElement('p');
            category.textContent = `Category: ${cocktail.category}`;
            cocktailInfoDiv.appendChild(category);

            const instructions = document.createElement('p');
            instructions.textContent = `Instructions: ${cocktail.instructions}`;
            cocktailInfoDiv.appendChild(instructions);

            const ingredientsList = document.createElement('ul');
            const ingredients = cocktail.ingredients.map(ingredient => {
                const listItem = document.createElement('li');
                listItem.textContent = ingredient;
                return listItem;
            });
            ingredients.forEach(item => ingredientsList.appendChild(item));
            cocktailInfoDiv.appendChild(ingredientsList);
        }
    </script>
</body>

</html>